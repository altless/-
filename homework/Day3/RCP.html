<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í„°ë¯¸ë„¤ì´í„°</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <h1>ê°€ìœ„ë°”ìœ„ë³´ ê²Œì„</h1>
<!--///////////////////////////////////////// ê²Œì„ì‹œì‘ë²„íŠ¼ /////////////////////////////////////////-->
    <button id="startBtn">ê²Œì„ ì‹œì‘</button>
<!--///////////////////////////////////////// ê²Œì„ ì§„í–‰ ì˜ì—­, í”Œë ˆì´ì–´ ì˜ì—­ê³¼ ì»´í“¨í„° ì˜ì—­ êµ¬ë¶„ /////////////////////////////////////////-->
    <div id="gameArea">
        <div class="game-board">
            <div class="player">
                <h2>í”Œë ˆì´ì–´</h2>
                <div id="playerIcon" class="choice-icons">â“</div>
                <p id="playerScore">ì ìˆ˜: 0</p>
            </div>
            <div class="computer">
                <h2>ì»´í“¨í„°</h2>
                <div id="computerIcon" class="choice-icons">â“</div>
                <p id="computerScore">ì ìˆ˜: 0</p>
            </div>
        </div>
<!--///////////////////////////////////////// ì œí•œì‹œê°„ í‘œì‹œ /////////////////////////////////////////-->
        <p class="timer" id="timer">ì œí•œ ì‹œê°„: 10ì´ˆ</p>
<!--///////////////////////////////////////// í”Œë ˆì´ì–´ê°€ ì„ íƒí•  ìˆ˜ ìˆëŠ” ì˜ì—­ /////////////////////////////////////////-->
        <div class="choices">
            <span class="choice" data-choice="ê°€ìœ„">âœŒï¸</span>
            <span class="choice" data-choice="ë°”ìœ„">âœŠ</span>
            <span class="choice" data-choice="ë³´">ğŸ–ï¸</span>
        </div>
<!--///////////////////////////////////////// ê²Œì„ ê²°ê³¼ í‘œì‹œì˜ì—­ /////////////////////////////////////////-->
        <p class="result-text" id="resultText">ê²°ê³¼.</p>
    </div>




<!--///////////////////////////////////////// SCRIPT /////////////////////////////////////////-->
    <script>

        ///////////////////////////////////////// ì‚¬ìš©í•  ë³€ìˆ˜ ë“±ë¡ /////////////////////////////////////////
        const startBtn = document.getElementById("startBtn");
        const gameArea = document.getElementById("gameArea");
        const choices = document.querySelectorAll(".choice");
        const playerIcon = document.getElementById("playerIcon");
        const computerIcon = document.getElementById("computerIcon");
        const playerScoreText = document.getElementById("playerScore");
        const computerScoreText = document.getElementById("computerScore");
        const timerText = document.getElementById("timer");
        const resultText = document.getElementById("resultText");

        let playerScore = 0;
        let computerScore = 0;
        let countdown;
        let playerSelection = null;


        ///////////////////////////////////////// ì„ íƒì§€ ë“±ë¡ /////////////////////////////////////////
        const choiceIcons = {
            "ê°€ìœ„": "âœŒï¸",
            "ë°”ìœ„": "âœŠ",
            "ë³´": "ğŸ–ï¸"
        };

        ///////////////////////////////////////// ì»´í“¨í„° ì„ íƒ ëœë¤í™” /////////////////////////////////////////
        function getRandomChoice() {
            const choices = ["ê°€ìœ„", "ë°”ìœ„", "ë³´"];
            return choices[Math.floor(Math.random() * choices.length)];
        }


        ///////////////////////////////////////// ìŠ¹íŒ¨ êµ¬ë¶„ ì§“ê¸°, ê²°ê³¼ê°’ ë¦¬í„´ /////////////////////////////////////////
        function determineWinner(player, computer) {
            if (player === computer) return "ë”°ë¼í•˜ì§€ë§ˆë¼.";
            if (
                (player === "ê°€ìœ„" && computer === "ë³´") ||
                (player === "ë°”ìœ„" && computer === "ê°€ìœ„") ||
                (player === "ë³´" && computer === "ë°”ìœ„")
            ) {
                playerScore++;
                return "ğŸ‰ ë„ˆì˜ ìŠ¹ë¦¬ë‹¤ íœ´ë¨¼.";
            } else {
                computerScore++;
                return "ğŸ’» ë‚˜ì˜ ìŠ¹ë¦¬ë‹¤ íœ´ë¨¼.";
            }
        }


        ///////////////////////////////////////// ë¼ìš´ë“œ ì„¤ì •, ì‹œê°„ì œí•œ ì„¤ì •, ì‹œê°„ ì´ˆê³¼ì‹œ í”Œë ˆì´ì–´ ëœë¤ ì„ íƒ /////////////////////////////////////////
        function startRound() {
            playerSelection = null;
            playerIcon.textContent = "â“";
            computerIcon.textContent = "â“";
            resultText.textContent = "ê²°ê³¼";

            let timeLeft = 10;
            timerText.textContent = `ì œí•œ ì‹œê°„: ${timeLeft}ì´ˆ`;

            countdown = setInterval(() => {
                timeLeft--;
                timerText.textContent = `ì œí•œ ì‹œê°„: ${timeLeft}ì´ˆ`;

                if (timeLeft <= 0) {
                    clearInterval(countdown);
                    if (!playerSelection) {
                        playerSelection = getRandomChoice();
                        playerIcon.textContent = choiceIcons[playerSelection];
                    }
                    revealComputerChoice();
                }
            }, 1000);
        }

        ///////////////////////////// ì»´í“¨í„° ì„ íƒì§€ ì˜¤í”ˆ ì´í›„ ì ìˆ˜ í• ë‹¹, ëª©í‘œì ìˆ˜ ë‹¬ì„± ì‹œ ìµœì¢… ê²°ê³¼í‘œì‹œ í›„ ë¦¬ì…‹, ëª©í‘œë‹¬ì„± ì•„ë‹ì‹œ ìƒˆ ë¼ìš´ë“œ ì§„í–‰ //////////////////////////////
        function revealComputerChoice() {
            const computerSelection = getRandomChoice();
            computerIcon.textContent = choiceIcons[computerSelection];

            setTimeout(() => {
                let result = determineWinner(playerSelection, computerSelection);
                resultText.textContent = result;

                playerScoreText.textContent = `ì ìˆ˜: ${playerScore}`;
                computerScoreText.textContent = `ì ìˆ˜: ${computerScore}`;

                if (playerScore === 3) {
                    resultText.textContent = "ğŸ‰ ì‚ë¹…. ì´ë²ˆë§Œ ë´ì£¼ëŠ”ê±°ë‹¤. íœ´ë¨¼.";
                    setTimeout(resetGame, 2000);
                } else if (computerScore === 3) {
                    resultText.textContent = "ğŸ’» ì‚ë¹…..ì‚ë¹…...ì• ì†¡ì´.";
                    setTimeout(resetGame, 2000);
                } else {
                    setTimeout(startRound, 1000);
                }
            }, 1000);
        }
        ///////////////////////////////////////// ë¦¬ì…‹ /////////////////////////////////////////
        function resetGame() {
            playerScore = 0;
            computerScore = 0;
            playerScoreText.textContent = "ìŠ¹ë¦¬: 0";
            computerScoreText.textContent = "ìŠ¹ë¦¬: 0";
            resultText.textContent = "ê²°ê³¼.";
            gameArea.style.display = "none";
            startBtn.style.display = "block";
        }

        ///////////////////////////////////////// ê²Œì„ì‹œì‘ ë²„íŠ¼ êµ¬í˜„ /////////////////////////////////////////
        startBtn.addEventListener("click", () => {
            startBtn.style.display = "none"; 
            gameArea.style.display = "block";
            startRound();
        });

        ///////////////////////////////////////// í”Œë ˆì´ì–´ ì„ íƒì§€ ì½ê¸°, ì´í›„ ì»´í“¨í„° ì„ íƒì§€ ë‚˜íƒ€ë‚˜ê²Œ í•¨ìˆ˜ í˜¸ì¶œ /////////////////////////////////////////
        choices.forEach(choice => {
            choice.addEventListener("click", () => {
                if (playerSelection) return;
                clearInterval(countdown);
                playerSelection = choice.getAttribute("data-choice");
                playerIcon.textContent = choiceIcons[playerSelection];
                revealComputerChoice();
            });
        });
    </script>
</body>
</html>
